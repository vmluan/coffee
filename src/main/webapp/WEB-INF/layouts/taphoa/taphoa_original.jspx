<html xmlns:jsp="http://java.sun.com/JSP/Page"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:tiles="http://tiles.apache.org/tags-tiles"
	xmlns:spring="http://www.springframework.org/tags">

<jsp:output doctype-root-element="HTML"
	doctype-system="about:legacy-compat"></jsp:output>

<jsp:directive.page contentType="text/html;charset=UTF-8"></jsp:directive.page>
<jsp:directive.page pageEncoding="UTF-8"></jsp:directive.page>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=8" />

<title>QL Tap hoa</title>
<spring:url value="/resources/scripts" var="script" />
<spring:url value="/resources/styles/" var="styles" />

<link rel="shortcut icon"
	href="${pageContext.request.contextPath}/styles/home/images/icon.ico" />

<!-- Bootstrap core CSS -->
<link href="/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

<!-- Custom styles for this template -->
<link href="/resources/taphoa.css" rel="stylesheet" />
<link href="dashboard.css" rel="stylesheet"/>



</head>
<body>

	<div id="main">
		<tiles:insertAttribute name="header" ignore="true" />
		<div class="container">

    <div class="container-fluid">
      <div class="row">
        
		

		   
        <div class="test">
          <div class="page-header">
		 
					<div class="col-xs-6 col-sm-3" style="margin-left: 10px;">
						<label> Dang uong: </label>
						<input type="checkbox"  id="danguong" onChange="loadTableList()" />
						<label> Da Tinh tien: </label>
						<input type="checkbox"  id="datinhtien" onChange = "loadTableList()"/>						
					</div>
					
			<label style="margin-left: 10px;" class="col-xs6 col-sm-2">chon ngay xem:</label>
			<div style="margin: 10px;" id='jqxDateTimeInput'></div>
			
			
		  </div>

          <div class="row placeholders" id="maindiv">
			<c:forEach var="currentTable" items="${table}">
				<div class="col-xs-6 col-sm-3 placeholder">
					<a href="quanlyban/${currentTable.tableID}?form">
					<c:choose>
						<c:when test="${currentTable.status == 'PAID'}">
							<img data-src="holder.js/200x200/auto/industrial" class="img-responsive" alt="Generic placeholder thumbnail"/>
						</c:when>
						<c:otherwise>
							<img data-src="holder.js/200x200/auto/sky" class="img-responsive" alt="Generic placeholder thumbnail"/>
						</c:otherwise>
					</c:choose>	
					</a>	
				  <h4>${currentTable.tableNumber} - ${currentTable.customerName}</h4>
				  <span class="text-muted">${currentTable.totalMoney} VND</span>
				</div>			
			</c:forEach>
           			
          </div>

          
        </div>
      </div>
    </div>



		</div>
		<!-- /container -->


	</div>


	<!-- Bootstrap core JavaScript
    ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<!-- Jquery -->
	<script src="/resources/scripts/jquery/jquery-1.10.2.js"
		type="text/javascript">
		<jsp:text/>
	</script>

	<script src="/resources/bootstrap/js/bootstrap.min.js"
		type="text/javascript">
		<jsp:text/>
	</script>
	<script src="/resources/bootstrap/js/docs.min.js"
		type="text/javascript">
		<jsp:text/>
	</script>	
	<!--JqueryGrid -->
	<link rel="stylesheet" href="/resources/jqwidgets/styles/jqx.base.css"
		type="text/css" />

	<script type="text/javascript" src="/resources/jqwidgets/jqxcore.js">
		<jsp:text/>
	</script>
	<script type="text/javascript" src="/resources/jqwidgets/jqxdata.js">
		<jsp:text/>
	</script>
	<script type="text/javascript" src="/resources/jqwidgets/jqxbuttons.js">
		<jsp:text/>
	</script>
	<script type="text/javascript"
		src="/resources/jqwidgets/jqxscrollbar.js">
		<jsp:text/>
	</script>
	<script type="text/javascript" src="/resources/jqwidgets/jqxmenu.js">
		<jsp:text/>
	</script>
	<script type="text/javascript" src="/resources/jqwidgets/jqxgrid.js">
		<jsp:text/>
	</script>
	<script type="text/javascript"
		src="/resources/jqwidgets/jqxgrid.edit.js">
		<jsp:text/>
	</script>
	<script type="text/javascript"
		src="/resources/jqwidgets/jqxgrid.selection.js">
		<jsp:text/>
	</script>
	<script type="text/javascript"
		src="/resources/jqwidgets/jqxgrid.aggregates.js">
		<jsp:text/>
	</script>
	<script type="text/javascript"
		src="/resources/jqwidgets/jqxcheckbox.js">
		<jsp:text/>
	</script>
	<script type="text/javascript"
		src="/resources/jqwidgets/jqxnumberinput.js">
		<jsp:text/>
	</script>
	<script type="text/javascript" src="/resources/jqwidgets/jqxinput.js">
		<jsp:text/>
	</script>
	<script type="text/javascript" src="/resources/jqwidgets/jqxcalendar.js">
		<jsp:text/>
	</script>	
	<script type="text/javascript" src="/resources/jqwidgets/jqxdatetimeinput.js">
		<jsp:text/>
	</script>	
	
	<script type="text/javascript" src="/resources/scripts/demos.js">
		<jsp:text/>
	</script>
	<script type="text/javascript" src="/resources/QLbanle.js">
		<jsp:text/>
	</script>
	<script type="text/javascript">
		 $("#jqxDateTimeInput").jqxDateTimeInput({
			 width: '200px',
			 height: '25px',
			 theme: 'energyblue'
		 });
            $('#jqxDateTimeInput').on('valuechanged', function (event) {
                var date = event.args.date;
				var date2 = $("#jqxDateTimeInput").val();
				loadTableList(date2);
            });

	function loadTableList(tradeDate){
		if (!tradeDate){
			tradeDate = $("#jqxDateTimeInput").val();
		}
		var danguong = document.getElementById('danguong').checked;
		var datinhtien = document.getElementById('datinhtien').checked;
		
		var url = '/';
		var inputData = {tradeDate:  tradeDate, danguong: danguong, datinhtien: datinhtien};
		 $.ajax({
		   url: url,
		   data: inputData,
		   dataType : "html",
		   type: 'GET',
		//   data: data,
		   success: function(data){
			 //On ajax success do this
			 var a = 1;
         //   var gotcha = parseHTML(data,'maindiv');
            $('#maindiv').html($(data).find('#maindiv').html());
			$.getScript('/resources/bootstrap/js/vendor/holder.js', function(){});
			  },
		   error: function(xhr, ajaxOptions, thrownError) {
			  //On error do this
				alert(xhr.status);
				alert(thrownError);

			}
		 });		
		
	};			 
	</script>

</body>

</html>